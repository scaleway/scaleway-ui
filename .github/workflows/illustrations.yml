name: Upload Illustrations

on: 
    pull_request:
        types: ['opened', 'edited', 'reopened', 'synchronize']
    push:
        branches:
            - main

jobs:
    upload-illustrations:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - name: Install AWS CLI v2
              run: curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
                   unzip awscliv2.zip
                   sudo ./aws/install
            - name: Install awscli-plugin-endpoint
              run: pip3 install awscli-plugin-endpoint
            - name: Config AWS CLI
              run:  # TODO
            - name: Upload illustrations
              env: 
                AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
                AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
              run: pnpm run illustrations:upload