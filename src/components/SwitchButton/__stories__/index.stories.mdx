import { useState, useCallback } from 'react'
import { Meta, Story, Canvas, Description } from '@storybook/addon-docs/blocks'
import { SwitchButton } from '..'
import ControlValue from '__stories__/components/ControlValue'
import { Grid, Row, Col, BorderedBox } from 'components'

<Meta
  title="Components/SwitchButton"
  component={SwitchButton}
/>

# SwitchButton

## Basic

<Description>
  `SwitchButton` uses a `input` of type "radio" and they can only be used as controlled input.
</Description>

<Canvas>
  <Story name="basic">
    <ControlValue value="a">
      {({ value, onChange }) => (
        <Grid>
          <Row>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch"
                value="a"
                checked={value === 'a'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is A
              </SwitchButton>
            </Col>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch"
                value="b"
                checked={value === 'b'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is B
              </SwitchButton>
            </Col>
          </Row>
        </Grid>
      )}
    </ControlValue>
  </Story>
</Canvas>

## Variants

<Description>
  Use `variant` prop to change style. Available variants: `default`, `segment`.
  Check code example to reproduce exactly `segment` variant.
</Description>

<Canvas isColumn>
  <Story name="variants-default">
    <ControlValue value="a">
      {({ value, onChange }) => (
        <Grid>
          <Row>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch"
                value="a"
                variant="default"
                checked={value === 'a'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is A
              </SwitchButton>
            </Col>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch"
                value="b"
                variant="default"
                checked={value === 'b'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is B
              </SwitchButton>
            </Col>
          </Row>
        </Grid>
      )}
    </ControlValue>
  </Story>
  <Story name="variants-segment">
    <ControlValue value="a">
      {({ value, onChange }) => (
        <Grid>
          <Row width={320}>
            <Col pr={0}>
              <BorderedBox p="4px">
                <Row>
                  <Col xs={6} pr={0}>
                    <SwitchButton
                      width={1}
                      name="switch"
                      value="a"
                      variant='segment'
                      checked={value === 'a'}
                      onChange={e => onChange(e.currentTarget.value)}
                    >
                      This is A
                    </SwitchButton>
                  </Col>
                  <Col xs={6} pl={0}>
                    <SwitchButton
                      width={1}
                      name="switch"
                      value="b"
                      variant='segment'
                      checked={value === 'b'}
                      onChange={e => onChange(e.currentTarget.value)}
                    >
                      This is B
                    </SwitchButton>
                  </Col>
                </Row>
              </BorderedBox>
            </Col>
          </Row>
        </Grid>
      )}
    </ControlValue>
  </Story>
</Canvas>

## Disabled

<Description>
  Use `disabled` prop to disable one or both `SwitchButton`.
</Description>

<Canvas>
  <Story name="disabled">
    <ControlValue value="a">
      {({ value, onChange }) => (
        <Grid>
          <Row>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch"
                value="a"
                checked={value === 'a'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is A
              </SwitchButton>
            </Col>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch"
                value="b"
                disabled
                checked={value === 'b'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is B
              </SwitchButton>
            </Col>
          </Row>
        </Grid>
      )}
    </ControlValue>
  </Story>
</Canvas>
