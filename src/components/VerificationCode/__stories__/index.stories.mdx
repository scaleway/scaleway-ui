import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { useState } from 'react'
import VerificationCode from '..'
import ControlValue from '../../../__stories__/components/ControlValue'

<Meta title="Components/VerificationCode" component={VerificationCode} />

# VerificationCode

A Small component to enter some text or numbers one by one.

<Canvas>
  <Story name="Basic">
    <VerificationCode initialValue="1337" inputId="verification-code-input" />
  </Story>
</Canvas>

## Initial value

<Canvas>
  <Story name="Initial value">
    <VerificationCode initialValue="1337" inputId="verification-code-input" />
  </Story>
</Canvas>

## Controlled

<Canvas>
  <Story name="Controlled">
    <ControlValue>
      {({ value, onChange }) => (
        <>
          <VerificationCode
            value={value}
            onChange={onChange}
            placeholder="0000"
            inputId="verification-code-input-controlled"
          />
          Value is : {value}
        </>
      )}
    </ControlValue>
  </Story>
</Canvas>

## OnComplete

<Canvas>
  <Story name="OnComplete">
    {() => {
      const [displayComplete, setDisplayComplete] = useState(false)
      return (
        <>
          <VerificationCode
            placeholder="0000"
            inputId="verification-code-input-completed-action"
            onChange={() => {
              if (displayComplete) setDisplayComplete(false)
            }}
            onComplete={() => {
              setDisplayComplete(true)
            }}
          />
          {displayComplete && 'Completed !'}
        </>
      )
    }}
  </Story>
</Canvas>

## Placeholder

<Canvas>
  <Story name="Placeholder">
    <VerificationCode
      placeholder="0000"
      inputId="verification-code-input-no-value"
    />
  </Story>
</Canvas>

## Incomplete initial value and placeholder

<Canvas>
  <Story name="Incomplete initial value and placeholder">
    <VerificationCode
      fields={6}
      initialValue="13"
      placeholder="0037"
      inputId="verification-code-input-incomplete"
    />
  </Story>
</Canvas>

## Error

<Canvas>
  <Story name="Error">
    <VerificationCode inputId="error" initialValue="13" error />
  </Story>
</Canvas>

## Type

<Canvas>
  <Story name="Type">
    <VerificationCode type="text" initialValue="13" />
  </Story>
</Canvas>

<ArgsTable of={VerificationCode} />
