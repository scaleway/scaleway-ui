import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from '@storybook/addon-docs'
import { useCallback, useState } from 'react'
import Checkbox from '..'
import { Boxer } from '../..'
import ErrorTransition from '../../../__stories__/components/ErrorTransition'

<Meta title="Components/Checkbox" component={Checkbox} />

# Checkbox

<Description>
  Checkbox component is used to select or unselect items.
</Description>

<Canvas>
  <Story name="Basic">
    <Boxer my={1}>
      <Checkbox onChange={() => {}}>Basic unchecked checkbox</Checkbox>
      <Checkbox checked onChange={() => {}}>
        Basic checked checkbox
      </Checkbox>
    </Boxer>
  </Story>
</Canvas>

## Size

<Description>Set size using `size` property.</Description>

<Canvas>
  <Story name="Size">
    <Boxer my={1}>
      <Checkbox size={10} onChange={() => {}}>
        Small checkbox
      </Checkbox>
      <Checkbox size={20} onChange={() => {}}>
        Medium checkbox
      </Checkbox>
      <Checkbox size={30} onChange={() => {}}>
        Big checkbox
      </Checkbox>
    </Boxer>
  </Story>
</Canvas>

## Validation

<Description>Set validation using `valid` boolean property.</Description>

<Canvas>
  <Story name="Validation">
    <Boxer my={1}>
      <Checkbox valid={false} onChange={() => {}}>
        Invalid checkbox
      </Checkbox>
      <Checkbox valid onChange={() => {}} checked>
        Valid checkbox
      </Checkbox>
    </Boxer>
  </Story>
</Canvas>

## Error

<Description>
  Set validation with error message using `error` property.
</Description>

<Canvas>
  <Story name="Error">
    <Boxer my={1}>
      <ErrorTransition
        error="An Error occurred, your checkbox is invalid"
        Component={Checkbox}
        onChange={() => {}}
      >
        Checkbox on Error with transition
      </ErrorTransition>
      <Checkbox
        error="An Error occurred, your checkbox is invalid"
        onChange={() => {}}
      >
        Checkbox on Error
      </Checkbox>
    </Boxer>
  </Story>
</Canvas>

## Progress

<Description>Set progress using `progress` property.</Description>

<Canvas>
  <Story name="Progress">
    {() => {
      const [checked, setChecked] = useState(false)
      const handleChange = useCallback(event => {
        setChecked(event.target.checked)
        setTimeout(() => {
          setChecked(false)
        }, 2000)
      }, [])
      return (
        <Boxer my={1}>
          <Checkbox
            progress={checked}
            checked={checked}
            onChange={handleChange}
          >
            Check me
          </Checkbox>
        </Boxer>
      )
    }}
  </Story>
</Canvas>

## Typography variant

<Description>Set value using `typographyVariant` property.</Description>

<Canvas>
  <Story name="Typography variant">
    <Boxer my={1}>
      <Checkbox typographyVariant="tiny" onChange={() => {}}>
        tiny variant
      </Checkbox>
      <Checkbox typographyVariant="description" onChange={() => {}}>
        description variant
      </Checkbox>
      <Checkbox typographyVariant="title" onChange={() => {}}>
        title variant
      </Checkbox>
    </Boxer>
  </Story>
</Canvas>

## Value

<Description>Set value using `value` property.</Description>

<Canvas>
  <Story name="Value">
    <Boxer my={1}>
      <Checkbox value="false" onChange={() => {}}>
        False value checkbox
      </Checkbox>
      <Checkbox value="true" onChange={() => {}}>
        true value checkbox
      </Checkbox>
      <Checkbox value={1234} onChange={() => {}}>
        1234 value checkbox
      </Checkbox>
    </Boxer>
  </Story>
</Canvas>

## API

<ArgsTable of={Checkbox} />
