import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from '@storybook/addon-docs'
import { useState } from 'react'
import Expandable from '..'
import Button from '../../Button'

<Meta title="Components/Expandable" component={Expandable} />

# Expandable

<Description>
  An Expandable is a container that can hide or show its content
</Description>

<Canvas>
  <Story name="Basic">
    {() => {
      const [toggled, onToggle] = useState(false)
      const toggle = () => onToggle(state => !state)
      return (
        <>
          <Button
            icon={toggled ? 'minus-box-outline' : 'plus-box-outline'}
            onClick={toggle}
          >
            Click me
          </Button>
          <Expandable height={24} opened={toggled}>
            I&lsquo;m an Expandable content
          </Expandable>
        </>
      )
    }}
  </Story>
</Canvas>

## Opened

<Description>
  Set `opened` prop to show or hide the content of an Expandable.
</Description>

<Canvas>
  <Story name="Opened">
    {() => {
      const [toggled, onToggle] = useState(false)
      const toggle = () => onToggle(state => !state)
      return (
        <>
          <Button
            icon={toggled ? 'minus-box-outline' : 'plus-box-outline'}
            onClick={toggle}
          >
            Click me to {toggled ? 'hide' : 'show'} content
          </Button>
          <Expandable opened={toggled}>
            I&lsquo;m a visible Expandable content
          </Expandable>
        </>
      )
    }}
  </Story>
</Canvas>

## Height

<Description>
  Set `height` prop to have a beautiful animation when opening and closing. Put
  something near your content height.
</Description>

<Canvas>
  <Story name="Height">
    {() => {
      const [toggled, onToggle] = useState(false)
      const toggle = () => onToggle(state => !state)
      return (
        <>
          <Button
            icon={toggled ? 'minus-box-outline' : 'plus-box-outline'}
            onClick={toggle}
          >
            Click me to {toggled ? 'hide' : 'show'} content
          </Button>
          <Expandable height={500} opened={toggled}>
            I&lsquo;m an Expandable content with a beautiful animation
          </Expandable>
        </>
      )
    }}
  </Story>
</Canvas>

## API

<ArgsTable of={Expandable} />
