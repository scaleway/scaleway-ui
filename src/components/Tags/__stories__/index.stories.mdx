import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from '@storybook/addon-docs'
import Tags from '..'
import ControlValue from '../../../__stories__/components/ControlValue'
import Button from '../../Button'
import Typography from '../../Typography'

<Meta title="Components/Data Display/Tags" component={Tags} />

# Tags

## Basic

<Description>Open your console to check onChange event</Description>

<Canvas>
  <Story name="Basic">
    <Tags
      name="basic"
      onChange={tags => console.log(tags)}
      tags={['Scaleway', 'ui']}
    />
  </Story>
</Canvas>

## Variants

### Base

This is the default variant when you don't override `variant` prop or set it to `base`.

<Canvas>
  <Story name="Variant base">
    <div style={{ marginBottom: '16px' }}>
      <Tags name="base" tags={['Scaleway', 'ui']} />
    </div>
    <Tags name="base" variant="base" tags={['Scaleway', 'ui']} />
  </Story>
</Canvas>

### No Border

By setting `variant` prop to `no-border` you can get this variant.

<Canvas>
  <Story name="Variant no-border">
    <Tags name="noBorder" variant="no-border" tags={['Scaleway', 'ui']} />
  </Story>
</Canvas>

### Bordered

To obtain this you need to set the `variant` prop to `bordered`

<Canvas>
  <Story name="Variant bordered">
    <Tags
      name="bordered"
      variant="bordered"
      onChange={tags => console.log(tags)}
      tags={['Scaleway', 'ui']}
    />
  </Story>
</Canvas>

## Custom placeholder

<Canvas>
  <Story name="Placeholder">
    <Tags
      name="placeholder"
      placeholder="Please type your tags"
      onChange={tags => console.log(tags)}
    />
  </Story>
</Canvas>

## With a custom error handler

<Canvas>
  <Story name="Error handler">
    <Tags
      name="error-handler"
      onChangeError={error => {
        console.log(error)
      }}
      onChange={() => {
        throw new Error('')
      }}
      tags={['Scaleway', 'ui']}
    />
  </Story>
</Canvas>

## Disabled

<Canvas>
  <Story name="Disabled">
    <Tags
      name="disabled"
      disabled
      onChange={tags => console.log(tags)}
      tags={['Scaleway', 'ui']}
    />
  </Story>
</Canvas>

## Controlled

### String tag

<Canvas>
  <Story name="Controlled">
    <ControlValue value={['Scaleway', 'ui']}>
      {({ value, onChange }) => (
        <>
          <Tags name="controlled" onChange={onChange} tags={value} />
          <Typography my={1}>Value : {JSON.stringify(value)}</Typography>
          <Button size="small" type="button" onClick={() => onChange([])}>
            Reset
          </Button>
        </>
      )}
    </ControlValue>
  </Story>
</Canvas>

### Object tag

<Canvas>
  <Story name="Controlled object">
    <ControlValue value={[{ label: 'Scaleway' }, { label: 'ui' }]}>
      {({ value, onChange }) => (
        <>
          <Tags
            areTagsObject
            name="controlled-object"
            onChange={onChange}
            tags={value}
          />
          <Typography my={1}>Value : {JSON.stringify(value)}</Typography>
          <Button size="small" type="button" onClick={() => onChange([])}>
            Reset
          </Button>
        </>
      )}
    </ControlValue>
  </Story>
</Canvas>

<ArgsTable of={Tags} />
